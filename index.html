<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voting - Allard VP Workshop</title>
    <link rel="icon" href="./img/avp_icon.ico">
    <style>
        /* Critical CSS for navigation to prevent FOUC */
        nav { 
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 50;
            transition: all 0.3s;
        }
        @media (prefers-color-scheme: dark) {
            nav { background-color: rgba(31, 41, 55, 0.95); }
        }
        .nav-container {
            max-width: 80rem;
            margin: 0 auto;
            padding: 0 1rem;
        }
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 4rem;
        }
        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            font-weight: 700;
            color: #111827;
            flex: 1;
        }
        .nav-title {
            flex: 1;
            text-align: center;
            font-size: 1rem;
            font-weight: 700;
            color: #111827;
        }
        .nav-logo .logo-container {
            display: flex;
            align-items: center;
        }
        .nav-logo .logo-light {
            display: block;
            height: 2rem;
            width: auto;
        }
        .nav-logo .logo-dark {
            display: none;
            height: 2rem;
            width: auto;
        }
        .nav-links {
            display: flex;
            gap: 0.25rem;
            flex: 1;
            justify-content: flex-end;
        }
        .nav-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s;
            text-decoration: none;
            font-size: 0.875rem;
            text-align: center;
        }
        .nav-links a.active {
            background-color: #dbeafe;
            color: #1e40af;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .nav-links a:not(.active) {
            color: #4b5563;
        }
        @media (min-width: 640px) {
            .nav-container { padding: 0 1.5rem; }
            .nav-links { gap: 0.5rem; }
            .nav-links a { 
                padding: 0.5rem 1rem;
                font-size: 1rem;
            }
            .nav-logo { font-size: 1.125rem; }
            .nav-logo span:first-child { font-size: 1.5rem; }
        }
        @media (min-width: 1024px) {
            .nav-container { padding: 0 2rem; }
        }
        @media (prefers-color-scheme: dark) {
            .nav-logo { color: #ffffff; }
            .nav-logo .logo-light { display: none; }
            .nav-logo .logo-dark { display: block; }
            .nav-title { color: #ffffff; }
            .nav-links a.active {
                background-color: #1e40af;
                color: #dbeafe;
            }
            .nav-links a:not(.active) {
                color: #9ca3af;
            }
        }
    </style>
    <link rel="stylesheet" href="./style.css">
    <meta name="description" content="Virtual Production Workshop - Vote for environments and share script ideas">
    <meta name="keywords" content="virtual production, workshop, voting, film, cinema, environments">
    <meta name="author" content="Allard VP">
    <meta property="og:title" content="Voting - Allard VP Workshop">
    <meta property="og:description" content="Vote for virtual environments and share script ideas for our VP Workshop">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://workshop.allardvp.nl">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Voting - Allard VP Workshop">
    <meta name="twitter:description" content="Vote for virtual environments and share script ideas for our VP Workshop">
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="nav-content">
                <div class="nav-logo animate-fade-in">
                    <div class="logo-container">
                        <img src="./img/avp_logo_black.svg" alt="Allard VP" class="logo-light h-8 w-auto">
                        <img src="./img/avp_logo_white.svg" alt="Allard VP" class="logo-dark h-8 w-auto">
                    </div>
                </div>
                <div class="nav-title animate-fade-in">
                    <span class="text-base sm:text-lg font-bold">VP Workshop</span>
                </div>
                <div class="nav-links">
                    <a href="index.html" class="active">
                        Voting
                    </a>
                    <a href="workshop.html">
                        Workshop Info
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Voting Page -->
        <div id="voting-page" class="fade-in visible">
            <!-- Introduction Section -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 mb-8">
                <h1 class="text-3xl font-bold mb-6 text-center">Welcome to Allard VP Workshop!</h1>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-6 text-center max-w-4xl mx-auto">
                    We're excited to have you participating! To make this an enjoyable and effective experience for all creatives and producers, please watch the video below which will educate you on the basics of virtual production and help you get the most out of our time together.
                </p>
                
                <!-- Video Container -->
                <div class="relative bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden aspect-video mb-6">
                    <iframe 
                        src="https://www.youtube.com/embed/x_kOCqvfo2Q" 
                        title="Virtual Production Workshop Educational Video"
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        allowfullscreen
                        class="absolute inset-0 w-full h-full">
                    </iframe>
                </div>
            </div>

            <!-- Environment Voting Section -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 mb-8">
                <h2 class="text-2xl font-bold mb-4 text-center">Choose Two Virtual Locations</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-8 text-center max-w-3xl mx-auto">
                    Select the virtual locations you'd like to work with during the workshop. The top 2 locations according to community votes will be the ones that Allard VP will prepare and set up for the day, ensuring we have the most engaging environments for your creative projects.
                </p>
                
                <div id="environments-grid" class="grid grid-auto-fit gap-6 mb-8">
                    <!-- Environment cards will be populated here -->
                    <div class="text-center py-8" id="environments-loading">
                        <div class="loading-spinner mx-auto mb-4"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading environments...</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <button id="vote-environments" class="bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 disabled:cursor-not-allowed" disabled>
                        Vote for Selected Locations
                    </button>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Select exactly 2 locations to enable voting</p>
                </div>
            </div>

            <!-- Script Ideas Section -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold mb-4 text-center">Script Ideas</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-8 text-center max-w-3xl mx-auto">
                    Share your creative script ideas for the workshop! Community members can vote on the ideas they find most exciting.
                </p>
                
                <!-- Submit Script Idea -->
                <div class="mb-8">
                    <div class="max-w-2xl mx-auto">
                        <textarea id="script-idea-input" placeholder="Share your script idea here..." class="w-full p-4 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white" rows="4"></textarea>
                        <div class="flex justify-between items-center mt-4">
                            <span id="char-count" class="text-sm text-gray-500 dark:text-gray-400">0 / 500</span>
                            <button id="submit-script-idea" class="bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200 disabled:cursor-not-allowed">
                                Submit Idea
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Script Ideas List -->
                <div id="script-ideas-list" class="space-y-4">
                    <!-- Script ideas will be populated here -->
                </div>
            </div>
        </div>


    </main>

    <!-- Toast Notification -->
    <div id="toast" class="fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 z-50 hidden">
        <span id="toast-message"></span>
    </div>

    <!-- Image Carousel Modal -->
    <div id="image-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h3 id="modal-title" class="text-xl font-bold text-gray-900 dark:text-white"></h3>
                    <p id="modal-description" class="text-gray-600 dark:text-gray-300"></p>
                </div>
                <button id="modal-close" class="btn-secondary p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="carousel-container" class="carousel-container">
                    <div id="carousel-loading" class="absolute inset-0 flex items-center justify-center">
                        <div class="loading-spinner"></div>
                    </div>
                    <div id="carousel-images" class="relative w-full h-full"></div>
                    <button id="carousel-prev" class="carousel-nav left-4 hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <button id="carousel-next" class="carousel-nav right-4 hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                </div>
                <div id="carousel-dots" class="carousel-dots"></div>
                <div id="carousel-error" class="hidden text-center py-8 text-gray-500 dark:text-gray-400">
                    <div class="text-4xl mb-4">ðŸ“·</div>
                    <p>No images available for this location</p>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>
</html> 